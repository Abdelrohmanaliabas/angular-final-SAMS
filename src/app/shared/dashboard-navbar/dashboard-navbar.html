<div class="navbar">
    <div class="navbar-inner">

        <!-- Left: Toggle Button -->
        <div class="navbar-left">
            <button class="toggle-btn" (click)="toggleSidebar.emit()" aria-label="Toggle sidebar">
                <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round">
                    <path d="M4 7h16M4 12h12M4 17h16" />
                </svg>
            </button>
        </div>

        <!-- Right: Actions -->
        <div class="navbar-right">

            <!-- Notifications -->
            <app-notification-bell></app-notification-bell>

            <!-- Role Badge -->
            <div class="role-badge">
                <span class="status-dot"></span>
                {{ userRole }}
            </div>

            <!-- Theme Toggle -->
            <app-theme-toggle></app-theme-toggle>

            <!-- User Menu -->
            <div class="user-menu" (click)="dropdown = !dropdown"
                (click)="$event.stopPropagation()">

                @if (userAvatar) {
                <img [src]="userAvatar" [alt]="userName" class="avatar-img" />
                } @else {
                <span class="avatar">{{ userInitials }}</span>
                }

                <svg class="chevron" [class.rotate]="dropdown" viewBox="0 0 24 24" fill="none" stroke="currentColor"
                    stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                    <path d="m6 9 6 6 6-6" />
                </svg>

                @if (dropdown) {
                <div class="dropdown">
                    <div class="dropdown-header">
                        <p class="dropdown-name">{{ userName }}</p>
                        <p class="dropdown-email">{{ userEmail }}</p>
                    </div>
                    <a [routerLink]="settingsRoute" class="dropdown-item">Settings</a>
                    <button type="button" class="dropdown-item logout" (click)="logout()">
                        Logout
                    </button>
                </div>
                }
            </div>
        </div>
    </div>
</div>
